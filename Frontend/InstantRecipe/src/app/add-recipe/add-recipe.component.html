<div class="content">
    <div class="card">
      <h1>Recept hozzáadása</h1>
      <form >
        <!-- Recept neve -->
        <div class="form-floating mb-3">
          <input
            type="text"
            class="form-control"
            id="title"
            name="title"
            placeholder="Recept neve"
            [(ngModel)]="newRecipe.title"
          />
          <label for="title">Recept neve</label>
        </div>
        
        <!-- Leírás -->
        <div class="form-floating mb-3 row">
          
          <div class="col">
            <h2>Leírás</h2>  
            <editor
            name="description"
            [init]="editorConfig"
            apiKey="9uesm71yy1ns25hhwg2553qmtvshhaud699moglz5xba0kkq"
            [(ngModel)]="newRecipe.description" [ngModelOptions]="{standalone: true}">
                    </editor>
          </div>
          <div class="col">
            <h2>Elvárás</h2>
            <img src="/assets/images/description_requirements.png" alt="description requirements" class="img-fluid">
          </div>
      </div>

        <div class="form-floating mt-3">
          <input
            type="text"
            class="form-control"
            id="categories"
            name="categories"
            placeholder="Kategoria"
            [(ngModel)]="newRecipe.categories"
          />
          <label for="categories">Kategoria</label>
        </div>

        <div class="selected-ingredients mt-3">
          <h2>Kiválasztott Összetevők</h2>
          <table class="table">
            <thead>
              <tr>
                <th>Összetevő neve</th>
                <th>Mennyiség</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let ingredient of selectedIngredients">
                <td>{{ ingredient }}</td>
                <td>
                  <input type="text" [(ngModel)]="ingredientQuantities[ingredient]" placeholder="Mennyiség" class="form-control">
                </td>
              </tr>
          </table>
        
        

        </div>
        
        
        <!-- Összetevők listája -->
        <div class="ingredient-list">
          <!-- Keresőmező -->
          <input
            type="text"
            [(ngModel)]="searchTerm"
            name="search"
            placeholder="Keresés összetevők között..."
            class="form-control mb-3"
          />
          
          <!-- Összetevők törlése gomb -->
          <button type="button" (click)="clearSelectedIngredients()" class="btn btn-danger mb-3">
            Kiválasztott összetevők törlése
          </button>
          
          <!-- Kategorizált összetevők -->
          <div *ngFor="let category of (categorizedIngredients | keyvalue)">
            <h2>{{ category.key }}</h2>
            <div *ngFor="let ingredient of filterIngredients(category.value)" class="form-check">
              <div class="checkboxing">
                <input
                  type="checkbox"
                  [value]="ingredient"
                  id="{{ingredient}}"
                  (change)="onIngredientChange($event, ingredient)"
                />
                <label for="{{ingredient}}">{{ ingredient }}</label>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Hozzáadás gomb -->
        <button class="btn btn-danger" type="submit" (click)="createRecipe()">Hozzáad</button>
      </form>
    </div>
  </div>
  